# Viteでつくる予定達成率計測アプリ

## 起動
```
npm i
npm run dev
```

## 仕様
毎日、予定の達成率を記録して振り返るアプリ。

## done
* [fix] GithubPagesで動かない問題 -> viteでbuildしてないから -> netlifyに移行して自動ビルドで解決
* [fix] データが一部消し飛んでる問題 -> 上書き編集したときにsaveItemsしてなかった
* [add] 直近5日の平均達成率（仮で上から5つのデータ取ってるだけ）
* [add] 今月の平均達成率
* [mod] 直近5日の平均達成率を、ちゃんと今日含めた5日を取得して計算するように。
* [mod] メモのインプットをテキストエリアに
* [mod] 曜日を表示したい
  * computedで引数もてない問題 -> methodsにしたら一発解決
* [fix] 今月の平均達成率バグ
* [mod] 日付順にデータを並び替える機能
  * sort関数でスマートに並び替えしてほしいけど変わらず。sort関数について知る必要あり。-> 記述ミス、return忘れ
* [mod] データを削除する機能
* [mod] 並び替えで、毎度並び替えずに日付が古いときだけにsortするように。
* [mod] データを編集する機能
  * contentEditableを活用
* [mod] 長文で記録すること多い問題。少なくとも仕事視点、家事視点、趣味視点がある。達成率も平均でそれぞれ入力して出るように。
* [fix] memo1,memo2を編集して反映できていないっぽい。
* [mod] log要素、見た目使いやすく。
  * 縦積みで文章が置かれるべき。
  * %をそれぞれ残す。
  * 改行が反映される。
* %の入力がないとき、0の値が入るようにしておく。

## todo
* [add] 月ごとに表示
  * [mod] データ構造の見直し。月ごとにオブジェクトが別れてその中にアイテムがあった方が良いか。
    * 年、月、日でわかれているイメージにする。
      * input側ではそのまま受け取って、app側で分解する。
      * sample.jsonみたいな形でデータ入るように整形
        [x] 年月日があるかどうかデータで条件分岐
        [x] 表示を年月日に対応させる
        [x] 存在しない年や月のときの挙動
        [x] firebaseと連携
        [x] 編集, 削除できるようにする
          * 削除
          * 編集
      * [x] 並び順をどうにかしたい。
        * どうやらあとから追加された日付は下に並ぶっぽい、、
        * 順番的には、10,11,21,22,01,09って感じ。
        * よくよく見るとfirebaseでは01,02,11順なのに、jsで受け取った瞬間に順番が変わってる
        * 新規に空オブジェクトをつくって並び替え順に入れるか？と思ったが、オブジェクトはキー：ハッシュの形式で、そのキーの順序は指定しても意味ない気が…。結局それだと同じものを複製するだけかも（試してない
          * もうちょい粘ってみる。
          * 10/28　解決。月と日に関してはキーのときは「001,011,029」と3桁で扱うことで並び順解消。
        * 最新順=降順にしたい。どうしよう
          * どこで並び替えても不都合ないので、データをfirebaseから受け取った時点で並び替えちゃう。
          * keyを並び替えて新オブジェクトに代入し直してもsortしたことにはならない問題。↑で起きた問題と同じ。
          * 結論：配列に整形するしかない。
          * データ構造直しましょう。
    * 配列形式で、年月日のデータもそれぞれ所持する。
      [x] sample.jsonつくる。jsonなのであくまでfirebase時はオブジェクトなのに注意。
      [x] logAreaを対応（表示
      [x] 編集, 削除対応
      [x] inputを対応
        [ ] マークアップを綺麗に@後回し
          [x] headlessUIを導入→スタイルパーツと思って導入したが機能のみのパーツだった、、
          [x] scssに対応。`npm install -D sass`だけで動いた。
      [ ] 並び替え処理。降順をデフォ。inputの時点で時系列でちゃんと入るようにしておく。
* 大規模な見た目の調整（xdでおこす
[ ] headlessUIを使いつつ見た目は自力で調整する
* 既存の日付に日報を登録したとき、まるっと上書きされるのが使いづらい問題
  * [簡易] 既存の日付だけどいい？とconfirmが出る。
  * [できたら] 既存の日付を選択すると、inputに既存の内容が入る。
* [add] 詳細ページ化したい。
  * %だけ一覧にはグラフだけとか。前日比up,downとか出したい。
* [mod] %の遷移を折れ線グラフで表示したい。期間を設定できるように。
* [add] いっそzaim記録、食事メニュー記録とかもつけられるようにしたい。
* [add] 日課管理アプリと統合…？いまの状態だとあんまり向いてないかも。
  * 朝-昼-夜-食事を記録する欄。
  * 食費は？カロリーは？
  * 自炊なのか
  * 運動したか
  * ゴミ出し
  * 洗濯
  * 皿洗い
  * 仕事でもチェックボックスで管理する項目欲しい、項目に応じて点数が自動計算されるようだったらなおよし。
  * 朝会出れたか？
  * 自習をしたか?どの自習タスクをやったか？
  * 日報を当日中に送れたか？
  * 予定を達成できたか？
  * 編集できたか
  * 収録できたか
* [add] 食事ログ記録＆提案アプリ。（別アプリがいいかも
  * 過去ログから、かぶらないような食事提案機能。ある程度候補を事前入力しておき、そこからランダム。候補はあとから追記もできる
* [add] セキュリティ面も考えてログイン機能をつける。どこかで。firebaseのAuthenticationをつかう。

* [mod] 平均値、1日しかない場合は「平均に必要な値がありませんと出す」
* [add] 先月, 先々月も呼び出せるように関数うまいことする
* [mod] 親子の受け渡しが汚い問題
* [add] 先月の平均とかをプルダウンで呼び出せるように
* [mod] 日付にデフォルトで今日が設定されるように
* [mod] 日付順並び替えのとこ、dayjsなくてもいいかも
* [fix] fiveDaysAverageで、未来の値も受け取っちゃう問題
* [mod] inputAreaのvueを整理
* [mod] 1週間とか1ヶ月とか継続入力したら星がつくとか、ご褒美システム
* [mod] %の入力に制限をつけられないか。最大100%としたい。
* [mod] 日付の選択するとこで、昨日のボタンがほしい？（次の日入力当たり前にするようで微妙かも。
* [mod] 日付のところデフォで今日の日付入るようにしときたい。

## ログ
* 2021-05-07 基本機能完成- 試用開始。
* 2021-05-07 平均機能実装~
* 2021-05-28 微タスク
* 2021-06-04 データの並び替え
* 2021-06-08 データの削除
* 2021-06-14 データの編集~
* 2021-06-24 編集まで完成
